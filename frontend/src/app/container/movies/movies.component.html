<div class="background">
  <header>
    <img src="../../../assets/img/logo.png" class="logo" routerLink="" alt="">
    <div class="headerRight">
      <span matBadgeColor="warn" [matBadge]="this.cartService.moviesInCart?.length || null">
        <img src="../../../assets/img/cart.png" routerLink="/cart" class="btnCart" alt="Carrito"></span>
      <p class="btnUser" [matMenuTriggerFor]="menu" *ngIf="userService['user']">{{userService['user']['name']}}
        {{userService['user']['surname']}}</p>
      <mat-menu #menu="matMenu">
        <button mat-menu-item routerLink="/profile">Mi cuenta</button>
        <button mat-menu-item (click)="logOut()">Cerrar sesión</button>
      </mat-menu>
      <p class="btnLogin" routerLink="/login" *ngIf="!userService['user']['role']">Iniciar sesión</p>
    </div>
  </header>
  <main>
    <div class="video-container">
      <iframe allowFullScreen='allowFullScreen' [src]="sanitizer.bypassSecurityTrustResourceUrl(this.showTrailer)"
        frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"></iframe>
    </div>

    <div class="movies-container">
      <app-popular-movies></app-popular-movies>

      <h3>Vistas en Classic Netflex</h3>
      <div class="divPopularMovies">
        <div class="wrapper">
          <section id="section1">
            <a class="arrow__btn" (click)="previousPage()" [style.display]="!this.hasPreviousPage?'none':'block'">‹</a>
            <div class="item" *ngFor="let movie of orders | async">
              <span class="card-title" (click)="getMovieById(movie.id)">{{movie.title}}</span>
              <img src="http://image.tmdb.org/t/p/w300/{{movie.image}}" />
            </div>
            <a class="arrow__btn" (click)="nextPage()" [style.display]="!this.hasNextPage?'none':'block'">›</a>
          </section>
        </div>
        <!-- <mat-paginator #paginator2 [length]="length" [pageIndex]="pageIndex" [pageSize]="pageSize"
          [style.display]="'none'"></mat-paginator> -->
      </div>

    </div>
  </main>
</div>